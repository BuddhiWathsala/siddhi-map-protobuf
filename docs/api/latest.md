# API Docs - v1.0.0-SNAPSHOT

## Sinkmapper

### protobuf *<a target="_blank" href="http://siddhi.io/documentation/siddhi-5.x/query-guide-5.x/#sink-mapper">(Sink Mapper)</a>*

<p style="word-wrap: break-word">This extension is an Event to Protobuf Message Object.<br>You have to add autogenerated protobuf message classes and service classes to the project classpath in order to work with this mapper. Once you add them to the classpath you can convert Siddhi Event objects to protobuf message object.<br>If you named your stream values as same as the protobuf message definition (in same order) this mapper will automatically convert Siddhi Event to protobuf message type, Otherwise you have to use @payload to map your stream values with protobuf message object.  You can even use protobuf Maps with this mapper, In order to use Maps you should use @payload to map key and value, or you can use  HashMap and LinkedHashMap and TreeMap objects and directly.    </p>

<span id="syntax" class="md-typeset" style="display: block; font-weight: bold;">Syntax</span>
```
@sink(..., @map(type="protobuf", class="<STRING>")
```

<span id="query-parameters" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">QUERY PARAMETERS</span>
<table>
    <tr>
        <th>Name</th>
        <th style="min-width: 20em">Description</th>
        <th>Default Value</th>
        <th>Possible Data Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td style="vertical-align: top">class</td>
        <td style="vertical-align: top; word-wrap: break-word">This specifies the class name of the protobuf message class, If sink type is grpc then it's not necessary to provide this field.</td>
        <td style="vertical-align: top"> </td>
        <td style="vertical-align: top">STRING</td>
        <td style="vertical-align: top">Yes</td>
        <td style="vertical-align: top">No</td>
    </tr>
</table>

<span id="examples" class="md-typeset" style="display: block; font-weight: bold;">Examples</span>
<span id="example-1" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">EXAMPLE 1</span>
```
@sink(type='grpc', topic='test01',  url = 'grpc://localhost:2000/package01.test.MyService/process@map(type='protobuf'))define stream BarStream (stringValue string, intValue int,longValue long,booleanValue bool,floatValue float,doubleValue double)
```
<p style="word-wrap: break-word">Above definition will map BarStream values to request message type of the  'process' method in 'MyService' service</p>

<span id="example-2" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">EXAMPLE 2</span>
```
@sink(type='grpc', topic='test01',  url = 'grpc://localhost:2000/package01.test.MyService/process@map(type='protobuf'),@payload(stringValue='a',longValue='b',intValue='c',booleanValue='d',floatValue = 'e', doubleValue  = 'f')))define stream BarStream (a string, b long, c int,d bool,e float,f double);
```
<p style="word-wrap: break-word">The above definition will map BarStream values to request message type of the 'process' method in 'MyService' service. and stream values will map like this, <br>- value of 'a' will be assign 'stringValue' variable in the message class <br>- value of 'b' will be assign 'longValue' variable in the message class <br>- value of 'c' will be assign 'intValue' variable in the message class <br>- value of 'd' will be assign 'booleanValue' variable in the message class <br>- value of 'e' will be assign 'floatValue' variable in the message class <br>- value of 'f' will be assign 'doubleValue' variable in the message class <br></p>

<span id="example-3" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">EXAMPLE 3</span>
```
@sink(type='grpc', topic='test01',  url = 'grpc://localhost:2000/package01.test.MyService/testMap'@map(type='protobuf',@payload(stringValue='a',intValue='b', myMap='`{{b}}:{{a}}`,`{{c}}:{{d}}`'))) define stream BarStream (a string,b int,c int, d string);
```
<p style="word-wrap: break-word">The above definition will map BarStream values to request message type of the 'process' method in 'MyService' service. and stream values will map like this, <br>- value of 'a' will be assign 'stringValue' variable in the message class <br>- value of 'b' will be assign 'longValue' variable in the message class <br>- value of 'b' and 'a' will be assign 'myMap' Map object in the message class a key value pair <br>- value of 'c' and 'd' will be assign 'myMap' Map object in the message class a key value pair <br></p>

## Sourcemapper

### protobuf *<a target="_blank" href="http://siddhi.io/documentation/siddhi-5.x/query-guide-5.x/#source-mapper">(Source Mapper)</a>*

<p style="word-wrap: break-word">This will convert protobuf message object in to Siddhi event <br>You have to add autogenerated protobuf message classes and service classes to the project classpath in order to work with this mapper. Once you add them to the classpath you can convert protobuf message object in to siddhi event.<br></p>

<span id="syntax" class="md-typeset" style="display: block; font-weight: bold;">Syntax</span>
```
@source(..., @map(type="protobuf", class="<STRING>")
```

<span id="query-parameters" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">QUERY PARAMETERS</span>
<table>
    <tr>
        <th>Name</th>
        <th style="min-width: 20em">Description</th>
        <th>Default Value</th>
        <th>Possible Data Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td style="vertical-align: top">class</td>
        <td style="vertical-align: top; word-wrap: break-word">This specifies the class name of the protobuf message class, If sink type is grpc then it's not necessary to provide this field.</td>
        <td style="vertical-align: top"> </td>
        <td style="vertical-align: top">STRING</td>
        <td style="vertical-align: top">Yes</td>
        <td style="vertical-align: top">No</td>
    </tr>
</table>

<span id="examples" class="md-typeset" style="display: block; font-weight: bold;">Examples</span>
<span id="example-1" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">EXAMPLE 1</span>
```
 
```
<p style="word-wrap: break-word"> </p>

